{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oliveira\\\\Desktop\\\\Desenvolvimento de Aplicac\\xF5es para a Web\\\\Proj\\\\projeto\\\\src\\\\components\\\\LoginView.tsx\";\nimport { Component } from \"react\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport AuthService from \"../services/auth.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class LoginView extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\"\n    };\n  }\n  validationSchema() {\n    return Yup.object().shape({\n      username: Yup.string().required(\"This field is required!\"),\n      password: Yup.string().required(\"This field is required!\")\n    });\n  }\n  handleLogin(formValue) {\n    const {\n      username,\n      password\n    } = formValue;\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n    AuthService.login(username, password).then(() => {\n      this.props.history.push(\"/profile\");\n      window.location.reload();\n    });\n  }\n  render() {\n    const {\n      loading,\n      message\n    } = this.state;\n    const initialValues = {\n      username: \"\",\n      password: \"\"\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\",\n          alt: \"profile-img\",\n          className: \"profile-img-card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: initialValues,\n          validationSchema: this.validationSchema,\n          onSubmit: this.handleLogin,\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"username\",\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                name: \"username\",\n                type: \"text\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"username\",\n                component: \"div\",\n                className: \"alert alert-danger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                name: \"password\",\n                type: \"password\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"password\",\n                component: \"div\",\n                className: \"alert alert-danger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary btn-block\",\n                disabled: loading,\n                children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger\",\n                role: \"alert\",\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","Formik","Field","Form","ErrorMessage","Yup","AuthService","LoginView","constructor","props","handleLogin","bind","state","username","password","loading","message","validationSchema","object","shape","string","required","formValue","setState","login","then","history","push","window","location","reload","render","initialValues"],"sources":["C:/Users/Oliveira/Desktop/Desenvolvimento de Aplicac√µes para a Web/Proj/projeto/src/components/LoginView.tsx"],"sourcesContent":["import { Component } from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\ninterface RouterProps {\r\n  history: string;\r\n}\r\n\r\ntype Props = RouteComponentProps<RouterProps>;\r\n\r\ntype State = {\r\n  username: string,\r\n  password: string,\r\n  loading: boolean,\r\n  message: string\r\n};\r\n\r\nexport default class LoginView extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  validationSchema() {\r\n    return Yup.object().shape({\r\n      username: Yup.string().required(\"This field is required!\"),\r\n      password: Yup.string().required(\"This field is required!\"),\r\n    });\r\n  }\r\n\r\n  handleLogin(formValue: { username: string; password: string }) {\r\n    const { username, password } = formValue;\r\n\r\n    this.setState({\r\n      message: \"\",\r\n      loading: true\r\n    });\r\n\r\n\r\n    AuthService.login(username, password).then(\r\n      () => {\r\n        this.props.history.push(\"/profile\");\r\n        window.location.reload();\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { loading, message } = this.state;\r\n\r\n    const initialValues = {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n\r\n    return (\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container\">\r\n          <img\r\n            src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\r\n            alt=\"profile-img\"\r\n            className=\"profile-img-card\"\r\n          />\r\n\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={this.validationSchema}\r\n            onSubmit={this.handleLogin}\r\n          >\r\n            <Form>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\">Username</label>\r\n                <Field name=\"username\" type=\"text\" className=\"form-control\" />\r\n                <ErrorMessage\r\n                  name=\"username\"\r\n                  component=\"div\"\r\n                  className=\"alert alert-danger\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\">Password</label>\r\n                <Field name=\"password\" type=\"password\" className=\"form-control\" />\r\n                <ErrorMessage\r\n                  name=\"password\"\r\n                  component=\"div\"\r\n                  className=\"alert alert-danger\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading}>\r\n                  {loading && (\r\n                    <span className=\"spinner-border spinner-border-sm\"></span>\r\n                  )}\r\n                  <span>Login</span>\r\n                </button>\r\n              </div>\r\n\r\n              {message && (\r\n                <div className=\"form-group\">\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {message}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}